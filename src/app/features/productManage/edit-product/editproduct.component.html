<div class="container">
  <h2>Editar Producto</h2>
  
  <!-- Mostrar mensaje de carga -->
  <div *ngIf="isLoading" class="text-center">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Cargando...</span>
    </div>
  </div>

  <!-- Formulario -->
  <form *ngIf="!isLoading && productId" [formGroup]="productForm" (ngSubmit)="onSubmit()">
    <!-- Campo Nombre -->
    <div class="mb-3">
      <label class="form-label">Nombre</label>
      <input type="text" class="form-control" formControlName="name">
      <div *ngIf="productForm.get('name')?.invalid && 
                  productForm.get('name')?.touched" 
           class="text-danger">
        <small *ngIf="productForm.get('name')?.errors?.['required']">
          El nombre es requerido
        </small>
        <small *ngIf="productForm.get('name')?.errors?.['minlength']">
          Mínimo 3 caracteres
        </small>
      </div>
    </div>

    <!-- Campo Precio -->
    <div class="mb-3">
      <label class="form-label">Precio</label>
      <input type="number" step="0.01" class="form-control" formControlName="price">
      <div *ngIf="productForm.get('price')?.invalid && 
                  productForm.get('price')?.touched" 
           class="text-danger">
        <small *ngIf="productForm.get('price')?.errors?.['required']">
          El precio es requerido
        </small>
        <small *ngIf="productForm.get('price')?.errors?.['min']">
          Debe ser mayor a 0
        </small>
      </div>
    </div>

    <!-- Campo Descripción -->
    <div class="mb-3">
      <label class="form-label">Descripción</label>
      <textarea class="form-control" formControlName="description" rows="3"></textarea>
      <div *ngIf="productForm.get('description')?.invalid && 
                  productForm.get('description')?.touched" 
           class="text-danger">
        <small *ngIf="productForm.get('description')?.errors?.['required']">
          La descripción es requerida
        </small>
        <small *ngIf="productForm.get('description')?.errors?.['minlength']">
          Mínimo 10 caracteres
        </small>
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="productForm.invalid">
      Guardar Cambios
    </button>
  </form>
</div>